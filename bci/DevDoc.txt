Solution (Adonis)
    DynamicOptionSetCustomization
    /(Basic)

    Table - DynamicOptionSetConfig(art_DynamicOptionSetConfig)
        Field
        Code(art_Code)
            SingleLine Text
        ConfigJson(art_ConfigJson)
            MultiLine Text(max)
            data format:
                { value_1:"label_1", value2:"label_2" }
            
    WebResource - DynamicOptionSetLibrary
        Function - applyDynamicOptions
            Input
                executionContext
                attributeName
                optionSetConfigCode
            
            Output
                none
                
            Logic
                1. 透過WebApi取得對應的OptionSetConfig資料
                2. 取得formContext後將attribute的所有Control依DynamicOptionSetConfig設定選項

Solution (Adonis/Daniel)
    BuildCaseApiService
    /(Basic)
    
    EnvironmentVariable - BuildCaseApiEndPoint
    
    Action - CallBuildCaseApi
        Input
            string Action
            string InputParamStr
            
        Output
            string Success
            string ResultStr
    
    Plugin Assembly - BuildCaseApiServicePlugins
        Structure
            1. Assembly Structure
                - Plugins
                    - BuildCaseApiPlugin.cs
                - Services
                    - ApiServiceBase.cs
                - Models
                    - AccessTokenResponseModel.cs
                    - BuildCaseConnectionModel.cs
        
        Plugin - BuildCaseApiPlugin
            Step
                Action: CallBuildCaseApi
                
            Logical
                1. 取出環境變數ApiEndPoint
                2. 依照Action建立ApiRoute
                3. 收到Response後回傳
                

Solution (Adonis/Daniel)
    BuildCaseDataSync
    /BuildCaseApiService
    
    Table - 經理人(systemuser)
        Field
        角色代碼(art_RoleType)
            SingleLine Text
        員工編號(art_EmpId)
            SingleLine Text
        員工姓名(art_EmpTwName)
            SingleLine Text
            
    Table - 執行單位(account)
        Field
        組織代碼(art_CorpOrgId)
            SingleLine Text
        組織名稱(art_CorpOrgTwName)
            SingleLine Text
            
    WebResources - CallSyncBuildCaseOptionData
        Function - 
            Input
                OptionCode
            
            Output
                Success
            
            Logic
                呼叫Action: SyncBuildCaseOptionData
    
    Action - SyncBuildCaseData
        Input
            string EntityLogicalName
            
        Output
            string Success
            
    Action - SyncBuildCaseOptionData
        Input
            string OptionCode
            
        Output
            string Success
    
    Plugin Assembly - BuildCaseDataSyncPlugins
        Structure
            1. Assembly Structure
                - Plugins
                    - SyncBuildCaseOptionPlugin.cs
                - EntitySyncService
                    - OptionSyncServiceFacotry.cs
                    - DataSyncServiceBase.cs
                    - Services
                        - ManagerSyncService.cs
                            - AccountManagerSyncService.cs
                            - ProjectManagerSyncService.cs
                        - OrganizationSyncService.cs
                    - Models
                        - ManagerSyncModel.cs
                        - OrganizationSyncModel.cs
                        - CustomerSyncModel.cs
                    
            2. abstract class EntitySyncServiceBase
                abstract string syncApiAction;
                abstract string entityLogicalName;
                abstract Dictionary<string,string> fieldMap;
                void UpsertRecords(EntityCollection);
        
        Plugin - SyncBuildCaseOptionPlugin
            Step    
                Action: SyncBuildCaseOptionData
            
            Logic
                1. 依照EntityLogicalName決定要call的API
                2. 透過Action: CallBuildCaseApi取得字串資料
                3. 建立字串資料物件陣列
                4. 對於所有物件執行Upsert
        
        
Solution
    BuildCaseOpptyUiCustomization
    /BuildCaseDataSync, BuildCaseOpptyProduct
    
    Table - 商機(Opportunity)
        Form
            拉欄位
            拉產品成本Subgrid
    
    WebResource - OpportunityUiLibrary
        Function - validateFields
            Input
            
            Output
            
            Logic
                判斷欄位有沒有符合規則
            
        Function - UpdateOpptyProductCostRecords
            Input
            
            OutPut
            
            Logic
                在OnSave的時候執行
                call Action: UpdateOpptyProductCostRecords
                
        
Solution (Adonis)
    BuildCaseOpptyProduct
    /
    
    Table - 產品成本(art_OpptyProductCost)
        Field
        來源商機(art_Opportunity)
            Lookup: Opportunity
        
        年度(art_Year)
            SingleLine Text
        
        收入總額 (Y)(art_MainIncome)
            Money
        
        商品成本 (Z)(art_MainProdCost)
            Money
        
        收入總額 (AD)(art_SelfIncome)
            Money
        
        自有產品成本 (AE)(art_SelfProdCost)
            Money
            
        Band<x> (art_Band<x>), 其中<x>是1~9
            Decimal
        
        View - 主力產品
            年度(sort), 收入總額 (Y), 商品成本 (Z)
        View - 自有產品
            年度(sort), 收入總額 (AD), 自有產品成本 (AE)
        View - Service人力
            年度(sort), Band<x>, 其中<x>是1~9
        
    Action - UpdateOpptyProductCostRecords
        Input
            string OpportunityId
            
        Output
            none
        
    Plugin Assembly - BuildCaseOpptyProductPlugins
        Plugin - UpdateOpptyProductCostRecords
        Step    
            Action: UpdateOpptyProductCostRecords
        
        Logic
            判斷執行起日, 執行乞日決定應該有多少art_OpptyProductCost
            原來就存在的記錄保留
            多餘的記錄刪除